---
import { blog as blogConfig, type CategoryId } from "../config/site";

const CATEGORY_IDS = Object.keys(blogConfig.categories) as CategoryId[];

interface Props {
  activeCategory?: CategoryId | "all";
  showAllLink?: boolean;
}

const { activeCategory, showAllLink = true } = Astro.props as Props;
---

<nav class="category-tabs" aria-label="Filter by category">
  {
    showAllLink && (
      <a
        class={`category-tab${
          !activeCategory || activeCategory === "all" ? " active" : ""
        }`}
        href="/blog/"
      >
        All
      </a>
    )
  }
  {
    CATEGORY_IDS.map((category) => (
      <a
        class={`category-tab${activeCategory === category ? " active" : ""}`}
        href={`/blog/${category}/`}
      >
        {blogConfig.categories[category].name}
      </a>
    ))
  }
</nav>
