<header>
	<nav>
	  <div class="nav-brand">
		<a href="/" class="home-link">Bogdan Develops</a>
		<button class="burger-menu" aria-label="Toggle navigation menu">
		  <span></span>
		  <span></span>
		  <span></span>
		</button>
	  </div>
	  <div class="nav-links">
		<a href="/#about" class="nav-link" data-section="about">About me</a>
		<a href="/#projects" class="nav-link" data-section="projects">Projects</a>
		<a href="/#contact" class="nav-link" data-section="contact">Contact</a>
		<a href="/blog">Blog</a>
	  </div>
	</nav>
  </header>
  
<style>
  header {
    width: 100%;
    background-color: #232323;
    color: white;
    padding: 0.8rem 1rem;
    box-sizing: border-box;
    position: relative;
  }

  nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
  }

  .nav-brand {
    display: flex;
    align-items: center;
  }

  .nav-links {
    display: flex;
    gap: 1.2rem;
    align-items: center;
  }

  nav a {
    color: #ffffff;
    text-decoration: none;
    font-size: 1.1em;
    padding: 0.5rem 0.8rem;
  }

  nav a:hover {
    text-decoration: underline;
  }

  .burger-menu {
    display: none;
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 21px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 10;
  }

  .burger-menu span {
    width: 100%;
    height: 3px;
    background-color: white;
    transition: all 0.3s ease-in-out;
  }

  @media (max-width: 768px) {
    nav {
      flex-wrap: wrap;
    }

    .nav-brand {
      width: 100%;
      justify-content: space-between;
    }

    .burger-menu {
      display: flex;
    }

    .nav-links {
      display: none;
      width: 100%;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 0;
    }

    .nav-links.active {
      display: flex;
    }

    nav a {
      width: 100%;
      text-align: center;
      padding: 0.8rem;
    }
  }
</style>

<script is:inline>
  function blinkSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
      section.style.backgroundColor = "#454545";
      setTimeout(() => section.style.backgroundColor = "#121212", 500);
    }
  }

  function initializeNavigation() {
    const burgerMenu = document.querySelector('.burger-menu');
    const navLinks = document.querySelector('.nav-links');
    
    // Check for hash in URL on page load
    const hash = window.location.hash.slice(1);
    if (hash) {
      setTimeout(() => {
        const section = document.getElementById(hash);
        if (section) {
          section.scrollIntoView();
          blinkSection(hash);
        }
      }, 100);
    }

    // Burger menu toggle
    burgerMenu?.addEventListener('click', () => {
      navLinks?.classList.toggle('active');
      const spans = burgerMenu.querySelectorAll('span');
      
      if (navLinks?.classList.contains('active')) {
        spans[0].style.transform = 'rotate(45deg) translate(6px, 6px)';
        spans[1].style.opacity = '0';
        spans[2].style.transform = 'rotate(-45deg) translate(6px, -6px)';
      } else {
        spans[0].style.transform = 'none';
        spans[1].style.opacity = '1';
        spans[2].style.transform = 'none';
      }
    });

    // Handle section navigation
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        const section = link.getAttribute('data-section');
        if (section) {
          const targetSection = document.getElementById(section);
          if (targetSection) {
            e.preventDefault();
            targetSection.scrollIntoView();
            blinkSection(section);
            history.pushState(null, '', `/#${section}`);
          }
        }
      });
    });

    // Handle home link
    document.querySelector('.home-link')?.addEventListener('click', (e) => {
      if (window.location.pathname === '/') {
        e.preventDefault();
        window.scrollTo({ top: 0 });
      }
    });
  }

  // Initialize on direct page load
  document.addEventListener('DOMContentLoaded', initializeNavigation);

  // Initialize after navigation
  document.addEventListener('astro:after-swap', () => {
    const hash = window.location.hash.slice(1);
    if (hash) {
      setTimeout(() => {
        const section = document.getElementById(hash);
        if (section) {
          section.scrollIntoView();
          blinkSection(hash);
        }
      }, 100);
    }
  });

  // Handle back/forward navigation
  window.addEventListener('popstate', () => {
    const hash = window.location.hash.slice(1);
    if (hash) {
      const section = document.getElementById(hash);
      if (section) {
        section.scrollIntoView();
        blinkSection(hash);
      }
    }
  });
</script>
  